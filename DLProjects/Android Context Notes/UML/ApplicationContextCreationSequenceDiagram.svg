<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="899px" style="width:888px;height:899px;" version="1.1" viewBox="0 0 888 899" width="888px"><defs><filter height="300%" id="f8ckb71" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="197" x="347" y="26.0439">ApplicationContext 创建过程</text><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="702.8423" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="69" y="129.9946"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="557.8247" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="74" y="237.2578"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="309" y="274.0122"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="235.2808" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="309" y="496.293"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="455" y="528.0474"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="108.2632" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="455" y="591.5562"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="681" y="337.521"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="681" y="432.7842"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="681" y="668.0649"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="362.2983" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="833" y="401.0298"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="74" x2="74" y1="74.2402" y2="858.5913"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="313.5" x2="313.5" y1="74.2402" y2="858.5913"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="459.5" x2="459.5" y1="74.2402" y2="858.5913"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="685.5" x2="685.5" y1="74.2402" y2="858.5913"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="838" x2="838" y1="74.2402" y2="858.5913"/><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="20" y="36.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="27" y="59.1641">ActivityThread</text><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="20" y="857.5913"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="27" y="880.6353">ActivityThread</text><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="256.5" y="36.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="263.5" y="59.1641">Instrumentation</text><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="256.5" y="857.5913"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="263.5" y="880.6353">Instrumentation</text><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="416.5" y="36.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="423.5" y="59.1641">Application</text><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="416.5" y="857.5913"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="423.5" y="880.6353">Application</text><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="640.5" y="36.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="647.5" y="59.1641">ContextImpl</text><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="640.5" y="857.5913"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="647.5" y="880.6353">ContextImpl</text><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="793" y="36.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="800" y="59.1641">LoadedApk</text><rect fill="#FEFECE" filter="url(#f8ckb71)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="793" y="857.5913"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="800" y="880.6353">LoadedApk</text><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="702.8423" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="69" y="129.9946"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="557.8247" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="74" y="237.2578"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="309" y="274.0122"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="235.2808" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="309" y="496.293"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="455" y="528.0474"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="108.2632" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="455" y="591.5562"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="681" y="337.521"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="681" y="432.7842"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="681" y="668.0649"/><rect fill="#FFFFFF" filter="url(#f8ckb71)" height="362.2983" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="833" y="401.0298"/><polygon fill="#A80036" points="57,125.9946,67,129.9946,57,133.9946,61,129.9946" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="63" y1="129.9946" y2="129.9946"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="10" y="125.8926">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="21" y="125.8926">main()</text><polygon fill="#FBFB77" filter="url(#f8ckb71)" points="84,89.2402,84,152.2402,423,152.2402,423,99.2402,413,89.2402,84,89.2402" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="413" y1="89.2402" y2="99.2402"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="423" x2="413" y1="99.2402" y2="99.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="90" y="109.1382">launch a new application</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="90" y="126.8926">main method as the entrance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="318" x="90" y="144.647">new a ActivityThread for this application as main thread</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="121" y1="185.2578" y2="185.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="185.2578" y2="198.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="80" x2="121" y1="198.2578" y2="198.2578"/><polygon fill="#A80036" points="90,194.2578,80,198.2578,90,202.2578,86,198.2578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="86" y="180.4014">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="97" y="180.4014">new ActivityThread()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="126" y1="225.0122" y2="225.0122"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="126" y1="225.0122" y2="238.0122"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="85" x2="126" y1="238.0122" y2="238.0122"/><polygon fill="#A80036" points="95,234.0122,85,238.0122,95,242.0122,91,238.0122" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="91" y="220.1558">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="102" y="220.1558">invoke attach() to init ActivityThread</text><polygon fill="#A80036" points="297,270.0122,307,274.0122,297,278.0122,301,274.0122" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84" x2="303" y1="274.0122" y2="274.0122"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="91" y="269.9102">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="102" y="269.9102">new Instrumentation()</text><polygon fill="#A80036" points="95,301.7666,85,305.7666,95,309.7666,91,305.7666" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89" x2="313" y1="305.7666" y2="305.7666"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="101" y="301.6646">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="112" y="301.6646">mInstrumentation</text><polygon fill="#A80036" points="669,333.521,679,337.521,669,341.521,673,337.521" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84" x2="675" y1="337.521" y2="337.521"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="91" y="333.4189">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="102" y="333.4189">craeteAppContext()</text><polygon fill="#A80036" points="95,365.2754,85,369.2754,95,373.2754,91,369.2754" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89" x2="685" y1="369.2754" y2="369.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="101" y="365.1733">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="112" y="365.1733">context</text><polygon fill="#A80036" points="821,397.0298,831,401.0298,821,405.0298,825,401.0298" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84" x2="827" y1="401.0298" y2="401.0298"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="91" y="396.9277">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="102" y="396.9277">context.mPackageInfo.makeApplication()</text><polygon fill="#A80036" points="702,428.7842,692,432.7842,702,436.7842,698,432.7842" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="696" x2="832" y1="432.7842" y2="432.7842"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="708" y="428.6821">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="719" y="428.6821">craeteAppContext()</text><polygon fill="#A80036" points="821,460.5386,831,464.5386,821,468.5386,825,464.5386" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="686" x2="827" y1="464.5386" y2="464.5386"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="693" y="460.4365">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="711" y="460.4365">appContext</text><polygon fill="#A80036" points="330,492.293,320,496.293,330,500.293,326,496.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="832" y1="496.293" y2="496.293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="336" y="492.1909">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="295" x="354" y="492.1909">mActivityThread.mInstrumentation.newApplication()</text><polygon fill="#A80036" points="443,524.0474,453,528.0474,443,532.0474,447,528.0474" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="449" y1="528.0474" y2="528.0474"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="326" y="523.9453">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="344" y="523.9453">new Application()</text><polygon fill="#A80036" points="330,555.8018,320,559.8018,330,563.8018,326,559.8018" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="324" x2="459" y1="559.8018" y2="559.8018"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="336" y="555.6997">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="354" y="555.6997">app</text><polygon fill="#A80036" points="443,587.5562,453,591.5562,443,595.5562,447,591.5562" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="449" y1="591.5562" y2="591.5562"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="326" y="587.4541">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="344" y="587.4541">app.attach();</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="465" x2="507" y1="624.0649" y2="624.0649"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="507" x2="507" y1="624.0649" y2="637.0649"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="466" x2="507" y1="637.0649" y2="637.0649"/><polygon fill="#A80036" points="476,633.0649,466,637.0649,476,641.0649,472,637.0649" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="472" y="619.2085">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="490" y="619.2085">attachBaseContext(context)</text><polygon fill="#A80036" points="669,664.0649,679,668.0649,669,672.0649,673,668.0649" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465" x2="675" y1="668.0649" y2="668.0649"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="472" y="663.9629">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="490" y="663.9629">getImpl(context).mPackageInfo</text><polygon fill="#A80036" points="471,695.8193,461,699.8193,471,703.8193,467,699.8193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="465" x2="685" y1="699.8193" y2="699.8193"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="477" y="695.7173">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="495" y="695.7173">mLoadedApk</text><polygon fill="#A80036" points="821,727.5737,831,731.5737,821,735.5737,825,731.5737" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="314" x2="827" y1="731.5737" y2="731.5737"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="321" y="727.4717">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="339" y="727.4717">app</text><polygon fill="#A80036" points="95,759.3281,85,763.3281,95,767.3281,91,763.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89" x2="837" y1="763.3281" y2="763.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="101" y="759.2261">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="119" y="759.2261">mInitalApplication</text><polygon fill="#A80036" points="448,791.0825,458,795.0825,448,799.0825,452,795.0825" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="454" y1="795.0825" y2="795.0825"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="86" y="790.9805">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="104" y="790.9805">mInitalApplication.onCreate()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="121" y1="832.5913" y2="832.5913"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="832.5913" y2="845.5913"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="74" x2="121" y1="845.5913" y2="845.5913"/><polygon fill="#A80036" points="84,841.5913,74,845.5913,84,849.5913,80,845.5913" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="86" y="827.7349">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="104" y="827.7349">init main handler</text></g></svg>