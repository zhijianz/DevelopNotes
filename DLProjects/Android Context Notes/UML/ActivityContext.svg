<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="654px" style="width:914px;height:654px;" version="1.1" viewBox="0 0 914 654" width="914px"><defs><filter height="300%" id="fso51v3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fso51v3)" height="506.9475" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="157" y="87.9973"/><rect fill="#FFFFFF" filter="url(#fso51v3)" height="176.5264" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="162" y="268.4009"/><rect fill="#FFFFFF" filter="url(#fso51v3)" height="63.386" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="363" y="165.2605"/><rect fill="#FFFFFF" filter="url(#fso51v3)" height="108.1404" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="476" y="336.7869"/><rect fill="#FFFFFF" filter="url(#fso51v3)" height="42.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="603" y="481.6816"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="162" x2="162" y1="41.1201" y2="613.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="367.5" x2="367.5" y1="41.1201" y2="613.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="480.5" x2="480.5" y1="41.1201" y2="613.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="608" x2="608" y1="41.1201" y2="613.6992"/><rect fill="#FEFECE" filter="url(#fso51v3)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="108" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="115" y="26.0439">ActivityThread</text><rect fill="#FEFECE" filter="url(#fso51v3)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="108" y="612.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="115" y="635.7432">ActivityThread</text><rect fill="#FEFECE" filter="url(#fso51v3)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="310.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="317.5" y="26.0439">Instrumentation</text><rect fill="#FEFECE" filter="url(#fso51v3)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="310.5" y="612.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="317.5" y="635.7432">Instrumentation</text><rect fill="#FEFECE" filter="url(#fso51v3)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="435.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="442.5" y="26.0439">ContextImpl</text><rect fill="#FEFECE" filter="url(#fso51v3)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="435.5" y="612.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="442.5" y="635.7432">ContextImpl</text><rect fill="#FEFECE" filter="url(#fso51v3)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="577" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="584" y="26.0439">Activity</text><rect fill="#FEFECE" filter="url(#fso51v3)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="577" y="612.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="584" y="635.7432">Activity</text><rect fill="#FFFFFF" filter="url(#fso51v3)" height="506.9475" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="157" y="87.9973"/><rect fill="#FFFFFF" filter="url(#fso51v3)" height="176.5264" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="162" y="268.4009"/><rect fill="#FFFFFF" filter="url(#fso51v3)" height="63.386" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="363" y="165.2605"/><rect fill="#FFFFFF" filter="url(#fso51v3)" height="108.1404" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="476" y="336.7869"/><rect fill="#FFFFFF" filter="url(#fso51v3)" height="42.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="603" y="481.6816"/><polygon fill="#A80036" points="145,83.9973,155,87.9973,145,91.9973,149,87.9973" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="151" y1="87.9973" y2="87.9973"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="10" y="83.8953">performLaunchActivity()</text><polygon fill="#FBFB77" filter="url(#fso51v3)" points="172,56.1201,172,101.1201,381,101.1201,381,66.1201,371,56.1201,172,56.1201" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="371" x2="371" y1="56.1201" y2="66.1201"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="381" x2="371" y1="66.1201" y2="66.1201"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="178" y="76.0181">在application创建完成之后</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="178" y="93.7725">AMS会调用该函数来创建Activity</text><polygon fill="#A80036" points="351,161.2605,361,165.2605,351,169.2605,355,165.2605" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="357" y1="165.2605" y2="165.2605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="174" y="161.1584">mInstrumentation.newActivity()</text><polygon fill="#FBFB77" filter="url(#fso51v3)" points="378,115.6289,378,196.6289,672,196.6289,672,125.6289,662,115.6289,378,115.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662" x2="662" y1="115.6289" y2="125.6289"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="672" x2="662" y1="125.6289" y2="125.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="384" y="135.5269">调用该函数创建Activity时，只是利用传入的</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="384" y="153.2813">ClassLoader和ClassName调用默认的构造函数</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="384" y="171.0356">创建，所以在这个创建的过程中没有进行任何的</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="384" y="188.79">初始化操作</text><polygon fill="#A80036" points="178,224.6465,168,228.6465,178,232.6465,174,228.6465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="172" x2="367" y1="228.6465" y2="228.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="184" y="224.5444">activity</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="214" y1="256.1553" y2="256.1553"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="214" x2="214" y1="256.1553" y2="269.1553"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="214" y1="269.1553" y2="269.1553"/><polygon fill="#A80036" points="183,265.1553,173,269.1553,183,273.1553,179,269.1553" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="179" y="251.2988">createBaseContextForActivity()</text><polygon fill="#A80036" points="464,332.7869,474,336.7869,464,340.7869,468,336.7869" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="172" x2="470" y1="336.7869" y2="336.7869"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="179" y="332.6848">createActivityContext()</text><polygon fill="#FBFB77" filter="url(#fso51v3)" points="491,287.1553,491,368.1553,905,368.1553,905,297.1553,895,287.1553,491,287.1553" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="895" x2="895" y1="287.1553" y2="297.1553"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="905" x2="895" y1="297.1553" y2="297.1553"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="290" x="497" y="307.0532">在这里只是简单的调用ContextImpl的构造函数创建</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="497" y="324.8076">一个ContextImpl对象，和createAppContext()不同的</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="393" x="497" y="342.562">只是传入的参数而已，所以在这里并没有实现ContextThemeWrapper</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="497" y="360.3164">一些独有的特性，都是后面才加进去的</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="486" x2="528" y1="400.9272" y2="400.9272"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="528" x2="528" y1="400.9272" y2="413.9272"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="487" x2="528" y1="413.9272" y2="413.9272"/><polygon fill="#A80036" points="497,409.9272,487,413.9272,497,417.9272,493,413.9272" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="493" y="396.0708">setOuterContext()</text><polygon fill="#A80036" points="178,440.9272,168,444.9272,178,448.9272,174,444.9272" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="172" x2="480" y1="444.9272" y2="444.9272"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="184" y="440.8252">appContext</text><polygon fill="#A80036" points="591,477.6816,601,481.6816,591,485.6816,595,481.6816" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="597" y1="481.6816" y2="481.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="174" y="477.5796">attach()</text><polygon fill="#FBFB77" filter="url(#fso51v3)" points="618,458.6816,618,485.6816,856,485.6816,856,468.6816,846,458.6816,618,458.6816" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="846" x2="846" y1="458.6816" y2="468.6816"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="856" x2="846" y1="468.6816" y2="468.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="624" y="478.5796">"init the activity include base context"</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="613" x2="655" y1="524.1904" y2="524.1904"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655" x2="655" y1="524.1904" y2="537.1904"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="608" x2="655" y1="537.1904" y2="537.1904"/><polygon fill="#A80036" points="618,533.1904,608,537.1904,618,541.1904,614,537.1904" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="620" y="519.334">attachBaseContext()</text><polygon fill="#A80036" points="596,559.1904,606,563.1904,596,567.1904,600,563.1904" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="602" y1="563.1904" y2="563.1904"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="174" y="559.0884">初始化主题相关内容</text><polygon fill="#A80036" points="596,590.9448,606,594.9448,596,598.9448,600,594.9448" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="602" y1="594.9448" y2="594.9448"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="169" y="590.8428">调用生命周期函数</text></g></svg>